{"version":3,"sources":["webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/throw/ThrowHeader.vue","webpack:///./src/views/throw/ThrowHeader.vue?12cc","webpack:///./src/views/throw/index.vue?2612","webpack:///./src/views/throw/ThrowHeader.vue?9893","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/throw/index.vue","webpack:///./node_modules/@ethersproject/constants/lib.esm/addresses.js","webpack:///./src/views/throw/index.vue?8b11"],"names":["classof","module","exports","value","TypeError","class","src","alt","address","props","String","setup","t","data","$t","refData","render","__scopeId","$","toInteger","thisNumberValue","repeat","fails","nativeToFixed","toFixed","floor","Math","pow","x","n","acc","log","x2","multiply","c","index","c2","divide","dataToString","s","call","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","this","fractDigits","sign","result","RangeError","slice","num","isInvest","type","$router","push","size","Number","allowance","loading","approve","loading-text","invest","label-disabled","checked","checked-color","showAgreement","round","closeable","close-icon","show","style","AddressZero","components","ThrowHeader","AppAgreement","clipboard","on","clearSelection","store","router","state","accounts","web3","provider","investContract","usdtContract","intro","get","config","rootAddress","initContract","eth","Contract","investAbi","investAddress","usdtAddress","initData","getAllowance","getIntro","getInvestNumber","methods","decimals","usdtNum","send","from","balanceOf","balance","raiseUsdt","estimateGas","gas","name","timeEnd","val"],"mappings":"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","file":"static/js/chunk-021f2764.83bef6a6.js","sourcesContent":["var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","<template>\r\n  <div class=\"throw-header\">\r\n    <div class=\"top-box\">\r\n      <div class=\"logo flex-center\">\r\n        <img src=\"@/assets/images/new/logo@2x.png\" alt=\"\">\r\n      </div>\r\n      <div class=\"top-title\">全球首家NFT早鸟投融资孵化平台</div>\r\n    </div>\r\n    <div class=\"address-box\">\r\n      <div class=\"adderss-title\">我的地址</div>\r\n      <div class=\"address-content\">\r\n        {{address}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nexport default {\r\n  props: {\r\n    address: String\r\n  },\r\n  setup () {\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      $t: t,\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .top-box {\r\n    height: 225px;\r\n    width: 100%;\r\n    text-align: center;\r\n    background: #FEE41D;\r\n    overflow: hidden;\r\n    .logo {\r\n      margin-top: 41px;\r\n      img {\r\n        display: block;\r\n        width: 133px;\r\n        height: auto;\r\n      }\r\n    }\r\n    .top-title {\r\n      margin-top: 20px;\r\n      font-size: 19px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n  .address-box {\r\n    position: relative;\r\n    z-index: 1;\r\n    margin: -61px 15px 0;\r\n    background: #fff;\r\n    box-shadow: 0px 5px 30px 0px rgba(139, 103, 165, 0.1);\r\n    border-radius: 5px;\r\n    padding: 23px 15px;\r\n    .adderss-title {\r\n      width: 130px;\r\n      line-height: 36px;\r\n      margin: 0 auto;\r\n      border-radius: 18px;\r\n      text-align: center;\r\n      background: #9752C7;\r\n      font-size: 15px;\r\n      color: #fff;\r\n      font-weight: bold;\r\n    }\r\n    .address-content {\r\n      text-align: center;\r\n      margin-top: 25px;\r\n      font-size: 16px;\r\n      color: #151515;\r\n      word-break: break-all;\r\n    }\r\n  }\r\n</style>","import { render } from \"./ThrowHeader.vue?vue&type=template&id=cd689eea&scoped=true\"\nimport script from \"./ThrowHeader.vue?vue&type=script&lang=js\"\nexport * from \"./ThrowHeader.vue?vue&type=script&lang=js\"\n\nimport \"./ThrowHeader.vue?vue&type=style&index=0&id=cd689eea&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-cd689eea\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=155838ae&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ThrowHeader.vue?vue&type=style&index=0&id=cd689eea&lang=less&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","<template>\r\n  <div class=\"throw-box\">\r\n    <throw-header :address=\"address\"></throw-header>\r\n    <div class=\"bottom-box\">\r\n      <div class=\"bottom-title\">参投{{num}}USDT将获得</div>\r\n      <div class=\"bottom-content\">\r\n        <span class=\"num\">20000</span>\r\n        <span class=\"name\">nts!</span>\r\n      </div>\r\n      <div class=\"bottom-btn\">\r\n        <van-button type=\"primary\" @click=\"$router.push({name: 'ThrowDetail'})\" v-if=\"isInvest\" size=\"large\" >查看参投详情</van-button>\r\n        <van-button type=\"primary\" v-else-if=\"Number(allowance)<=0\" :loading=\"loading\" @click=\"approve\" loading-text=\"授权中...\" size=\"large\">授权USDT</van-button>\r\n        <van-button type=\"primary\" v-else :loading=\"loading\" loading-text=\"参投中...\" @click=\"invest\" size=\"large\" >参投</van-button>\r\n      </div>\r\n      <div class=\"check-box\">\r\n        <van-checkbox label-disabled v-model=\"checked\" checked-color=\"#9752C7\"><span class=\"check-text\" @click=\"showAgreement = true\">NftList参投告知说明</span></van-checkbox>\r\n      </div>\r\n    </div>\r\n    <van-popup round closeable close-icon=\"close\" v-model:show=\"showAgreement\" :style=\"{ height: '90%', width: '96%' }\" >\r\n      <app-agreement></app-agreement>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ThrowHeader from './ThrowHeader'\r\nimport AppAgreement from '@/components/AppAgreement' \r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport {useStore} from \"vuex\";\r\nimport config from \"@/utils/config\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport investAbi from \"@/utils/investAbi\";\r\nimport Clipboard from 'clipboard';\r\nimport { Toast } from 'vant';\r\nimport { MaxUint256, AddressZero } from \"@ethersproject/constants\";\r\nimport { intro } from '@/storage'\r\nimport { useRouter } from 'vue-router'\r\nexport default {\r\n  components: {\r\n    ThrowHeader,\r\n    AppAgreement\r\n  },\r\n  setup() {\r\n    var clipboard = new Clipboard('.copy')\r\n    clipboard.on('success', function (e) {\r\n      Toast(t('share.复制成功'))\r\n      e.clearSelection()\r\n    })\r\n    clipboard.on('error', function () {\r\n      Toast(t('share.复制失败，请手动长按复制'))\r\n    }) \r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const router = useRouter()\r\n    const data = reactive({\r\n      $t: t,\r\n      showAgreement: false,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      investContract: null,\r\n      usdtContract: null,\r\n      allowance: '',\r\n      checked: true,\r\n      loading: false,\r\n      isInvest: false,\r\n      intro: intro.get() || config.rootAddress,\r\n      num: 0,\r\n      initContract: () => {\r\n        data.investContract = new data.web3.eth.Contract(investAbi, config.investAddress)\r\n        data.usdtContract = new data.web3.eth.Contract(tokenAbi, config.usdtAddress)\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getAllowance()\r\n        data.getIntro()\r\n        data.getInvestNumber()\r\n      },\r\n      getAllowance: async () => {\r\n        let allowance = await data.usdtContract.methods.allowance(data.address, config.investAddress).call()\r\n        data.allowance = allowance;\r\n      },\r\n      getInvestNumber: async () => {\r\n         let decimals = await data.usdtContract.methods.decimals().call()\r\n         let num = await data.investContract.methods.usdtNum().call()\r\n         data.num = Number(num/10**decimals).toFixed(2)\r\n      },\r\n      getIntro:async () => {\r\n        let intro = await data.investContract.methods.getIntro(data.address).call()\r\n        if(intro == AddressZero) {\r\n          data.isInvest = false\r\n        } else {\r\n          data.isInvest = true\r\n        }\r\n      },\r\n      approve: async () => {\r\n        data.loading = true\r\n        try {\r\n          await data.usdtContract.methods.approve(config.investAddress, MaxUint256).send({from: data.address})\r\n          Toast('授权成功')\r\n          data.getAllowance()\r\n          data.loading = false\r\n        } catch (error) {\r\n          Toast('授权失败')\r\n          data.loading = false\r\n        }  \r\n      },\r\n      invest: async () => {\r\n        if(!data.checked) {\r\n          Toast('请先同意协议')\r\n          return\r\n        }\r\n        let balance = await data.usdtContract.methods.balanceOf(data.address).call()\r\n        let num = await data.investContract.methods.usdtNum().call()\r\n        if(Number(num) > Number(balance)) {\r\n          Toast('余额不足')\r\n          return\r\n        }\r\n        let intro = await data.investContract.methods.getIntro(data.intro).call()\r\n        if(intro == AddressZero && data.intro != config.rootAddress) {\r\n          Toast('推荐人无效')\r\n          return\r\n        }\r\n        data.loading = true\r\n        try {\r\n          let gas = await data.investContract.methods.raiseUsdt(data.intro).estimateGas({from: data.address})\r\n          await data.investContract.methods.raiseUsdt(data.intro).send({from: data.address, gas: gas})\r\n          Toast('参投成功')\r\n          router.push({name: 'ThrowDetail'})\r\n          data.loading = false\r\n          data.initData()\r\n        } catch (error) {\r\n          data.loading = false\r\n          Toast('质押失败')\r\n        }\r\n        \r\n      },\r\n      timeEnd: ()=>{}\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .bottom-box {\r\n    text-align: center;\r\n    margin: 0 15px;\r\n    overflow: hidden;\r\n    .bottom-title {\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n      color: #151515;\r\n      margin-top: 38px;\r\n    }\r\n    .bottom-content {\r\n      width: 100%;\r\n      line-height: 64px;\r\n      margin-top: 24px;\r\n      border: 1px dashed #9752C7;\r\n      font-size: 34px;\r\n      font-weight: bold;\r\n      background: #fff;\r\n      border-radius: 32px;\r\n      .num {\r\n        color: #9752C7;\r\n      }\r\n      .name {\r\n        color: #151515;\r\n      }\r\n    }\r\n    .bottom-btn {\r\n      margin-top: 38px;\r\n    }\r\n    .check-box {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-top: 35px;\r\n      .check-text {\r\n        \r\n        font-size: 14px;\r\n        font-weight: bold;\r\n        color: #151515;\r\n      }\r\n    }\r\n  }\r\n</style>","export const AddressZero = \"0x0000000000000000000000000000000000000000\";\n//# sourceMappingURL=addresses.js.map","import { render } from \"./index.vue?vue&type=template&id=155838ae&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=155838ae&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-155838ae\"\n\nexport default script"],"sourceRoot":""}