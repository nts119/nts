(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32cfc234"],{"17ba":function(e,t,n){"use strict";n("fec5")},"18e9":function(e,t,n){},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"4d3c":function(e,t,n){"use strict";var r=n("7a23"),c=n("9ea3"),a=n.n(c),s=Object(r["T"])("data-v-570693cb");Object(r["E"])("data-v-570693cb");var o={class:"throw-header"},i={class:"top-box"},u=Object(r["l"])("div",{class:"logo flex-center"},[Object(r["l"])("img",{src:a.a,alt:""})],-1),l={class:"top-title"},d={class:"address-box"},b={class:"adderss-title"},f={class:"address-content"};Object(r["C"])();var h=s((function(e,t,n,c,a,s){return Object(r["B"])(),Object(r["h"])("div",o,[Object(r["l"])("div",i,[u,Object(r["l"])("div",l,Object(r["M"])(e.$t("nts.全球首家NFT早鸟投融资孵化平台")),1)]),Object(r["l"])("div",d,[Object(r["l"])("div",b,Object(r["M"])(e.$t("nts.我的地址")),1),Object(r["l"])("div",f,Object(r["M"])(n.address),1)])])})),O=n("5530"),j=n("47e2"),p={props:{address:String},setup:function(){var e=Object(j["b"])(),t=e.t,n=Object(r["F"])({$t:t}),c=Object(r["N"])(n);return Object(O["a"])({},c)}};n("17ba");p.render=h,p.__scopeId="data-v-570693cb";t["a"]=p},b680:function(e,t,n){"use strict";var r=n("23e7"),c=n("a691"),a=n("408a"),s=n("1148"),o=n("d039"),i=1..toFixed,u=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},d=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},b=function(e,t,n){var r=-1,c=n;while(++r<6)c+=t*e[r],e[r]=c%1e7,c=u(c/1e7)},f=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=u(r/t),r=r%t*1e7},h=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=String(e[t]);n=""===n?r:n+s.call("0",7-r.length)+r}return n},O=i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){i.call({})}));r({target:"Number",proto:!0,forced:O},{toFixed:function(e){var t,n,r,o,i=a(this),u=c(e),O=[0,0,0,0,0,0],j="",p="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(j="-",i=-i),i>1e-21)if(t=d(i*l(2,69,1))-69,n=t<0?i*l(2,-t,1):i/l(2,t,1),n*=4503599627370496,t=52-t,t>0){b(O,0,n),r=u;while(r>=7)b(O,1e7,0),r-=7;b(O,l(10,r,1),0),r=t-1;while(r>=23)f(O,1<<23),r-=23;f(O,1<<r),b(O,1,1),f(O,2),p=h(O)}else b(O,0,n),b(O,1<<-t,0),p=h(O)+s.call("0",u);return u>0?(o=p.length,p=j+(o<=u?"0."+s.call("0",u-o)+p:p.slice(0,o-u)+"."+p.slice(o-u))):p=j+p,p}})},f729:function(e,t,n){"use strict";n("18e9")},fec5:function(e,t,n){},ffdc:function(e,t,n){"use strict";n.r(t);n("a9e3");var r=n("7a23"),c=Object(r["T"])("data-v-2efccb15");Object(r["E"])("data-v-2efccb15");var a={class:"throw-box"},s={class:"bottom-box"},o={class:"bottom-title"},i=Object(r["l"])("div",{class:"bottom-content"},[Object(r["l"])("span",{class:"num"},"10000"),Object(r["l"])("span",{class:"name"},"NTS!")],-1),u={class:"bottom-btn"},l=Object(r["k"])("参投"),d={class:"check-box"};Object(r["C"])();var b=c((function(e,t,n,b,f,h){var O=Object(r["I"])("throw-header"),j=Object(r["I"])("van-button"),p=Object(r["I"])("van-checkbox"),v=Object(r["I"])("app-agreement"),m=Object(r["I"])("van-popup"),w=Object(r["I"])("app-agreement-en");return Object(r["B"])(),Object(r["h"])("div",a,[Object(r["l"])(O,{address:e.address},null,8,["address"]),Object(r["l"])("div",s,[Object(r["l"])("div",o,Object(r["M"])(e.$t("nts.参投USDT将获得",{num:e.num})),1),i,Object(r["l"])("div",u,[e.isInvest?(Object(r["B"])(),Object(r["h"])(j,{key:0,type:"primary",onClick:t[1]||(t[1]=function(t){return e.$router.push({name:"ThrowDetail"})}),size:"large"},{default:c((function(){return[Object(r["k"])(Object(r["M"])(e.$t("nts.查看参投详情")),1)]})),_:1})):Number(e.allowance)<=0?(Object(r["B"])(),Object(r["h"])(j,{key:1,type:"primary",loading:e.loading,onClick:e.approve,"loading-text":e.$t("nts.授权中..."),size:"large"},{default:c((function(){return[Object(r["k"])(Object(r["M"])(e.$t("nts.授权USDT")),1)]})),_:1},8,["loading","onClick","loading-text"])):(Object(r["B"])(),Object(r["h"])(j,{key:2,type:"primary",loading:e.loading,"loading-text":e.$t("nts.参投中..."),onClick:e.invest,size:"large"},{default:c((function(){return[l]})),_:1},8,["loading","loading-text","onClick"]))]),Object(r["l"])("div",d,[Object(r["l"])(p,{"label-disabled":"",modelValue:e.checked,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.checked=t}),"checked-color":"#9752C7"},{default:c((function(){return[Object(r["l"])("span",{class:"check-text",onClick:t[2]||(t[2]=function(t){return e.showAgreement=!0})},Object(r["M"])(e.$t("nts.NftList参投告知说明")),1)]})),_:1},8,["modelValue"])])]),"zh-cn"==e.locale?(Object(r["B"])(),Object(r["h"])(m,{key:0,round:"",closeable:"","close-icon":"close",show:e.showAgreement,"onUpdate:show":t[4]||(t[4]=function(t){return e.showAgreement=t}),style:{height:"90%",width:"96%"}},{default:c((function(){return[Object(r["l"])(v)]})),_:1},8,["show"])):Object(r["i"])("",!0),"en"==e.locale?(Object(r["B"])(),Object(r["h"])(m,{key:1,round:"",closeable:"","close-icon":"close",show:e.showAgreement,"onUpdate:show":t[5]||(t[5]=function(t){return e.showAgreement=t}),style:{height:"90%",width:"96%"}},{default:c((function(){return[Object(r["l"])(w)]})),_:1},8,["show"])):Object(r["i"])("",!0)])})),f=n("5530"),h=n("1da1"),O=(n("b680"),n("96cf"),n("4d3c")),j=n("0ad4"),p=n("dc52"),v=n("47e2"),m=n("5502"),w=n("01ea"),g=n("722f"),x=n("440b"),k=n("b311"),C=n.n(k),y=n("626a");const A="0x0000000000000000000000000000000000000000";var I=n("9d56"),N=n("98b3"),R=n("6c02"),$={components:{ThrowHeader:O["a"],AppAgreement:j["a"],AppAgreementEn:p["a"]},setup:function(){var e=new C.a(".copy");e.on("success",(function(e){Object(y["a"])(c("share.复制成功")),e.clearSelection()})),e.on("error",(function(){Object(y["a"])(c("share.复制失败，请手动长按复制"))}));var t=Object(m["b"])(),n=Object(v["b"])(),c=n.t,a=Object(R["c"])(),s=Object(r["F"])({$t:c,showAgreement:!1,address:Object(r["f"])((function(){return t.state.accounts[0]})),web3:Object(r["f"])((function(){return t.state.provider})),investContract:null,usdtContract:null,allowance:"",checked:!0,loading:!1,isInvest:!1,intro:N["a"].get()||w["a"].rootAddress,num:0,locale:Object(r["f"])((function(){return t.state.locale})),initContract:function(){s.investContract=new s.web3.eth.Contract(x,w["a"].investAddress),s.usdtContract=new s.web3.eth.Contract(g,w["a"].usdtAddress),s.initData()},initData:function(){s.getAllowance(),s.getIntro(),s.getInvestNumber()},getAllowance:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.usdtContract.methods.allowance(s.address,w["a"].investAddress).call();case 2:t=e.sent,s.allowance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getInvestNumber:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.usdtContract.methods.decimals().call();case 2:return t=e.sent,e.next=5,s.investContract.methods.usdtNum().call();case 5:n=e.sent,s.num=Number(n/Math.pow(10,t)).toFixed(2);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getIntro:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.investContract.methods.getIntro(s.address).call();case 2:t=e.sent,s.isInvest=t!=A;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),approve:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.loading=!0,e.prev=1,e.next=4,s.usdtContract.methods.approve(w["a"].investAddress,I["a"]).send({from:s.address});case 4:Object(y["a"])(c("nts.授权成功")),s.getAllowance(),s.loading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(y["a"])(c("nts.授权失败")),s.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),invest:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.checked){e.next=3;break}return Object(y["a"])(c("nts.请先同意协议")),e.abrupt("return");case 3:return e.next=5,s.usdtContract.methods.balanceOf(s.address).call();case 5:return t=e.sent,e.next=8,s.investContract.methods.usdtNum().call();case 8:if(n=e.sent,!(Number(n)>Number(t))){e.next=12;break}return Object(y["a"])(c("nts.余额不足")),e.abrupt("return");case 12:return e.next=14,s.investContract.methods.getIntro(s.intro).call();case 14:if(r=e.sent,r!=A||s.intro==w["a"].rootAddress){e.next=18;break}return Object(y["a"])(c("nts.推荐人无效")),e.abrupt("return");case 18:return s.loading=!0,e.prev=19,e.next=22,s.investContract.methods.raiseUsdt(s.intro).estimateGas({from:s.address});case 22:return o=e.sent,e.next=25,s.investContract.methods.raiseUsdt(s.intro).send({from:s.address,gas:o});case 25:Object(y["a"])(c("nts.参投成功")),a.push({name:"ThrowDetail"}),s.loading=!1,s.initData(),e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](19),s.loading=!1,Object(y["a"])(c("nts.质押失败"));case 35:case"end":return e.stop()}}),e,null,[[19,31]])})));function t(){return e.apply(this,arguments)}return t}(),timeEnd:function(){}});s.address&&s.initContract(),Object(r["Q"])((function(){return s.address}),(function(e){e&&s.initContract()}));var o=Object(r["N"])(s);return Object(f["a"])({},o)}};n("f729");$.render=b,$.__scopeId="data-v-2efccb15";t["default"]=$}}]);
//# sourceMappingURL=chunk-32cfc234.fe75979b.js.map