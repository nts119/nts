(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-596d6f8e"],{"0627":function(e,t,n){},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"4d3c":function(e,t,n){"use strict";var r=n("7a23"),a=n("9ea3"),c=n.n(a),o=Object(r["T"])("data-v-cd689eea");Object(r["E"])("data-v-cd689eea");var s={class:"throw-header"},i=Object(r["l"])("div",{class:"top-box"},[Object(r["l"])("div",{class:"logo flex-center"},[Object(r["l"])("img",{src:c.a,alt:""})]),Object(r["l"])("div",{class:"top-title"},"全球首家NFT早鸟投融资孵化平台")],-1),u={class:"address-box"},d=Object(r["l"])("div",{class:"adderss-title"},"我的地址",-1),l={class:"address-content"};Object(r["C"])();var b=o((function(e,t,n,a,c,o){return Object(r["B"])(),Object(r["h"])("div",s,[i,Object(r["l"])("div",u,[d,Object(r["l"])("div",l,Object(r["M"])(n.address),1)])])})),f=n("5530"),v=n("47e2"),h={props:{address:String},setup:function(){var e=Object(v["b"])(),t=e.t,n=Object(r["F"])({$t:t}),a=Object(r["N"])(n);return Object(f["a"])({},a)}};n("892e");h.render=b,h.__scopeId="data-v-cd689eea";t["a"]=h},"774c":function(e,t,n){"use strict";n("924c")},"892e":function(e,t,n){"use strict";n("0627")},"924c":function(e,t,n){},b680:function(e,t,n){"use strict";var r=n("23e7"),a=n("a691"),c=n("408a"),o=n("1148"),s=n("d039"),i=1..toFixed,u=Math.floor,d=function(e,t,n){return 0===t?n:t%2===1?d(e,t-1,n*e):d(e*e,t/2,n)},l=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},b=function(e,t,n){var r=-1,a=n;while(++r<6)a+=t*e[r],e[r]=a%1e7,a=u(a/1e7)},f=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=u(r/t),r=r%t*1e7},v=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=String(e[t]);n=""===n?r:n+o.call("0",7-r.length)+r}return n},h=i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){i.call({})}));r({target:"Number",proto:!0,forced:h},{toFixed:function(e){var t,n,r,s,i=c(this),u=a(e),h=[0,0,0,0,0,0],p="",O="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(p="-",i=-i),i>1e-21)if(t=l(i*d(2,69,1))-69,n=t<0?i*d(2,-t,1):i/d(2,t,1),n*=4503599627370496,t=52-t,t>0){b(h,0,n),r=u;while(r>=7)b(h,1e7,0),r-=7;b(h,d(10,r,1),0),r=t-1;while(r>=23)f(h,1<<23),r-=23;f(h,1<<r),b(h,1,1),f(h,2),O=v(h)}else b(h,0,n),b(h,1<<-t,0),O=v(h)+o.call("0",u);return u>0?(s=O.length,O=p+(s<=u?"0."+o.call("0",u-s)+O:O.slice(0,s-u)+"."+O.slice(s-u))):O=p+O,O}})},ffdc:function(e,t,n){"use strict";n.r(t);n("a9e3");var r=n("7a23"),a=Object(r["T"])("data-v-9de7107e");Object(r["E"])("data-v-9de7107e");var c={class:"throw-box"},o={class:"bottom-box"},s={class:"bottom-title"},i=Object(r["l"])("div",{class:"bottom-content"},[Object(r["l"])("span",{class:"num"},"20000"),Object(r["l"])("span",{class:"name"},"NTS!")],-1),u={class:"bottom-btn"},d=Object(r["k"])("查看参投详情"),l=Object(r["k"])("授权USDT"),b=Object(r["k"])("参投"),f={class:"check-box"};Object(r["C"])();var v=a((function(e,t,n,v,h,p){var O=Object(r["I"])("throw-header"),j=Object(r["I"])("van-button"),m=Object(r["I"])("van-checkbox"),w=Object(r["I"])("app-agreement"),g=Object(r["I"])("van-popup");return Object(r["B"])(),Object(r["h"])("div",c,[Object(r["l"])(O,{address:e.address},null,8,["address"]),Object(r["l"])("div",o,[Object(r["l"])("div",s,"参投"+Object(r["M"])(e.num)+"USDT将获得",1),i,Object(r["l"])("div",u,[e.isInvest?(Object(r["B"])(),Object(r["h"])(j,{key:0,type:"primary",onClick:t[1]||(t[1]=function(t){return e.$router.push({name:"ThrowDetail"})}),size:"large"},{default:a((function(){return[d]})),_:1})):Number(e.allowance)<=0?(Object(r["B"])(),Object(r["h"])(j,{key:1,type:"primary",loading:e.loading,onClick:e.approve,"loading-text":"授权中...",size:"large"},{default:a((function(){return[l]})),_:1},8,["loading","onClick"])):(Object(r["B"])(),Object(r["h"])(j,{key:2,type:"primary",loading:e.loading,"loading-text":"参投中...",onClick:e.invest,size:"large"},{default:a((function(){return[b]})),_:1},8,["loading","onClick"]))]),Object(r["l"])("div",f,[Object(r["l"])(m,{"label-disabled":"",modelValue:e.checked,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.checked=t}),"checked-color":"#9752C7"},{default:a((function(){return[Object(r["l"])("span",{class:"check-text",onClick:t[2]||(t[2]=function(t){return e.showAgreement=!0})},"NftList参投告知说明")]})),_:1},8,["modelValue"])])]),Object(r["l"])(g,{round:"",closeable:"","close-icon":"close",show:e.showAgreement,"onUpdate:show":t[4]||(t[4]=function(t){return e.showAgreement=t}),style:{height:"90%",width:"96%"}},{default:a((function(){return[Object(r["l"])(w)]})),_:1},8,["show"])])})),h=n("5530"),p=n("1da1"),O=(n("b680"),n("96cf"),n("4d3c")),j=n("0ad4"),m=n("47e2"),w=n("5502"),g=n("01ea"),x=n("722f"),k=n("440b"),C=n("b311"),y=n.n(C),I=n("626a");const N="0x0000000000000000000000000000000000000000";var A=n("9d56"),R=n("98b3"),F=n("6c02"),T={components:{ThrowHeader:O["a"],AppAgreement:j["a"]},setup:function(){var e=new y.a(".copy");e.on("success",(function(e){Object(I["a"])(a("share.复制成功")),e.clearSelection()})),e.on("error",(function(){Object(I["a"])(a("share.复制失败，请手动长按复制"))}));var t=Object(w["b"])(),n=Object(m["b"])(),a=n.t,c=Object(F["c"])(),o=Object(r["F"])({$t:a,showAgreement:!1,address:Object(r["f"])((function(){return t.state.accounts[0]})),web3:Object(r["f"])((function(){return t.state.provider})),investContract:null,usdtContract:null,allowance:"",checked:!0,loading:!1,isInvest:!1,intro:R["a"].get()||g["a"].rootAddress,num:0,initContract:function(){o.investContract=new o.web3.eth.Contract(k,g["a"].investAddress),o.usdtContract=new o.web3.eth.Contract(x,g["a"].usdtAddress),o.initData()},initData:function(){o.getAllowance(),o.getIntro(),o.getInvestNumber()},getAllowance:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.usdtContract.methods.allowance(o.address,g["a"].investAddress).call();case 2:t=e.sent,o.allowance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getInvestNumber:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.usdtContract.methods.decimals().call();case 2:return t=e.sent,e.next=5,o.investContract.methods.usdtNum().call();case 5:n=e.sent,o.num=Number(n/Math.pow(10,t)).toFixed(2);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getIntro:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.investContract.methods.getIntro(o.address).call();case 2:t=e.sent,o.isInvest=t!=N;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),approve:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.loading=!0,e.prev=1,e.next=4,o.usdtContract.methods.approve(g["a"].investAddress,A["a"]).send({from:o.address});case 4:Object(I["a"])("授权成功"),o.getAllowance(),o.loading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(I["a"])("授权失败"),o.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),invest:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.checked){e.next=3;break}return Object(I["a"])("请先同意协议"),e.abrupt("return");case 3:return e.next=5,o.usdtContract.methods.balanceOf(o.address).call();case 5:return t=e.sent,e.next=8,o.investContract.methods.usdtNum().call();case 8:if(n=e.sent,!(Number(n)>Number(t))){e.next=12;break}return Object(I["a"])("余额不足"),e.abrupt("return");case 12:return e.next=14,o.investContract.methods.getIntro(o.intro).call();case 14:if(r=e.sent,r!=N||o.intro==g["a"].rootAddress){e.next=18;break}return Object(I["a"])("推荐人无效"),e.abrupt("return");case 18:return o.loading=!0,e.prev=19,e.next=22,o.investContract.methods.raiseUsdt(o.intro).estimateGas({from:o.address});case 22:return a=e.sent,e.next=25,o.investContract.methods.raiseUsdt(o.intro).send({from:o.address,gas:a});case 25:Object(I["a"])("参投成功"),c.push({name:"ThrowDetail"}),o.loading=!1,o.initData(),e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](19),o.loading=!1,Object(I["a"])("质押失败");case 35:case"end":return e.stop()}}),e,null,[[19,31]])})));function t(){return e.apply(this,arguments)}return t}(),timeEnd:function(){}});o.address&&o.initContract(),Object(r["Q"])((function(){return o.address}),(function(e){e&&o.initContract()}));var s=Object(r["N"])(o);return Object(h["a"])({},s)}};n("774c");T.render=v,T.__scopeId="data-v-9de7107e";t["default"]=T}}]);
//# sourceMappingURL=chunk-596d6f8e.edf59d56.js.map